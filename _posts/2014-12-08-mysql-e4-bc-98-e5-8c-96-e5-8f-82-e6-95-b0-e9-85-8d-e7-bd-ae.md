---
title: "MySQL优化参数配置"
date: "2014-12-08 12:03:20"
slug: "mysql-e4-bc-98-e5-8c-96-e5-8f-82-e6-95-b0-e9-85-8d-e7-bd-ae"
layout: "post"
categories: ["Mysql"]
tags: ["mysql", "innodb_log_buffer_size", "innodb_buffer_pool_size"]
---
网站架设好之后，为了提高访问速度，需要对某些服务器设置进行优化。
先对MySQL进行设置。

# **innodb\_buffer\_pool\_size**

这个参数定义了InnoDB引擎的缓冲区。适当增加这个参数的值，可以有效减少InnoDB访问磁盘的IO。
一般的建议是，设置为内存总量的60%~70%。对于一个网站+MySQL，内存只有512M的云主机来说，这个数值设置成60%之后只有一个结果，经常性的MySQL无法启动。会报出如下log：
cannot allocate memory for the buffer pool
这个值没有特定的大小，实验结论，此类小型网站，设置为64M比较合适。
在my.cnf中，[mysqld]类别下，增加或修改
[codesyntax lang="text" lines="no"]

```
innodb_buffer_pool_size = 64M
```

[/codesyntax]

# innodb\_log\_buffer\_size

如上文，log大小和log buffer也会影响系统运行效率。
理论上，innodb\_log\_file\_size越大越好，不过若该值太大，崩溃后重新恢复的时间，相对就要长一些。
同上增加或修改
[codesyntax lang="text" lines="no"]

```
innodb_log_buffer_size = 8M
innodb_log_file_size = 64M
```

[/codesyntax]
