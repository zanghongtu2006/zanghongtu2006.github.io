<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_201) on Wed Mar 06 08:16:06 UTC 2019 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>XMLEncryptionUtil (Keycloak Docs Distribution 5.0.0 API)</title>
<meta name="date" content="2019-03-06">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="XMLEncryptionUtil (Keycloak Docs Distribution 5.0.0 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="XMLEncryptionUtil.html#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="https://www.keycloak.org/docs-api/5.0/javadocs/org/keycloak/saml/processing/core/util/class-use/XMLEncryptionUtil.html">Use</a></li>
<li><a href="https://www.keycloak.org/docs-api/5.0/javadocs/org/keycloak/saml/processing/core/util/package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>Keycloak Docs Distribution 5.0.0</b></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="SignatureUtilTransferObject.html" title="class in org.keycloak.saml.processing.core.util"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="XMLSignatureUtil.html" title="class in org.keycloak.saml.processing.core.util"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="https://www.keycloak.org/docs-api/5.0/javadocs/index.html?org/keycloak/saml/processing/core/util/XMLEncryptionUtil.html" target="_top">Frames</a></li>
<li><a href="XMLEncryptionUtil.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="XMLEncryptionUtil.html#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="XMLEncryptionUtil.html#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="XMLEncryptionUtil.html#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="XMLEncryptionUtil.html#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="XMLEncryptionUtil.html#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="XMLEncryptionUtil.html#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.keycloak.saml.processing.core.util</div>
<h2 title="Class XMLEncryptionUtil" class="title">Class XMLEncryptionUtil</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.keycloak.saml.processing.core.util.XMLEncryptionUtil</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">XMLEncryptionUtil</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">Utility for XML Encryption <b>Note: </b> This utility is currently using Apache XML Security library API. JSR-106 is
 not yet
 final. Until that happens,we rely on the non-standard API.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>May 4, 2009</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Anil.Saldhana@redhat.com</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="XMLEncryptionUtil.html#DS_KEY_INFO">DS_KEY_INFO</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="XMLEncryptionUtil.html#XMLEncryptionUtil--">XMLEncryptionUtil</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/org/w3c/dom/Element.html?is-external=true" title="class or interface in org.w3c.dom">Element</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="XMLEncryptionUtil.html#decryptElementInDocument-org.w3c.dom.Document-java.security.PrivateKey-">decryptElementInDocument</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/org/w3c/dom/Document.html?is-external=true" title="class or interface in org.w3c.dom">Document</a>&nbsp;documentWithEncryptedElement,
                        <a href="https://docs.oracle.com/javase/8/docs/api/java/security/PrivateKey.html?is-external=true" title="class or interface in java.security">PrivateKey</a>&nbsp;privateKey)</code>
<div class="block">Decrypt an encrypted element inside a document</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="XMLEncryptionUtil.html#encryptElement-org.w3c.dom.Document-org.w3c.dom.Element-java.security.PublicKey-javax.crypto.SecretKey-int-">encryptElement</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/org/w3c/dom/Document.html?is-external=true" title="class or interface in org.w3c.dom">Document</a>&nbsp;document,
              <a href="https://docs.oracle.com/javase/8/docs/api/org/w3c/dom/Element.html?is-external=true" title="class or interface in org.w3c.dom">Element</a>&nbsp;element,
              <a href="https://docs.oracle.com/javase/8/docs/api/java/security/PublicKey.html?is-external=true" title="class or interface in java.security">PublicKey</a>&nbsp;publicKey,
              <a href="https://docs.oracle.com/javase/8/docs/api/javax/crypto/SecretKey.html?is-external=true" title="class or interface in javax.crypto">SecretKey</a>&nbsp;secretKey,
              int&nbsp;keySize)</code>
<div class="block">
 Encrypts an element in a XML document using the specified public key, secret key, and key size.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="XMLEncryptionUtil.html#encryptElement-javax.xml.namespace.QName-org.w3c.dom.Document-java.security.PublicKey-javax.crypto.SecretKey-int-javax.xml.namespace.QName-boolean-">encryptElement</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/javax/xml/namespace/QName.html?is-external=true" title="class or interface in javax.xml.namespace">QName</a>&nbsp;elementQName,
              <a href="https://docs.oracle.com/javase/8/docs/api/org/w3c/dom/Document.html?is-external=true" title="class or interface in org.w3c.dom">Document</a>&nbsp;document,
              <a href="https://docs.oracle.com/javase/8/docs/api/java/security/PublicKey.html?is-external=true" title="class or interface in java.security">PublicKey</a>&nbsp;publicKey,
              <a href="https://docs.oracle.com/javase/8/docs/api/javax/crypto/SecretKey.html?is-external=true" title="class or interface in javax.crypto">SecretKey</a>&nbsp;secretKey,
              int&nbsp;keySize,
              <a href="https://docs.oracle.com/javase/8/docs/api/javax/xml/namespace/QName.html?is-external=true" title="class or interface in javax.xml.namespace">QName</a>&nbsp;wrappingElementQName,
              boolean&nbsp;addEncryptedKeyInKeyInfo)</code>
<div class="block">Given an element in a Document, encrypt the element and replace the element in the document with the encrypted
 data</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/org/w3c/dom/Element.html?is-external=true" title="class or interface in org.w3c.dom">Element</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="XMLEncryptionUtil.html#encryptElementInDocument-org.w3c.dom.Document-java.security.PublicKey-javax.crypto.SecretKey-int-javax.xml.namespace.QName-boolean-">encryptElementInDocument</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/org/w3c/dom/Document.html?is-external=true" title="class or interface in org.w3c.dom">Document</a>&nbsp;document,
                        <a href="https://docs.oracle.com/javase/8/docs/api/java/security/PublicKey.html?is-external=true" title="class or interface in java.security">PublicKey</a>&nbsp;publicKey,
                        <a href="https://docs.oracle.com/javase/8/docs/api/javax/crypto/SecretKey.html?is-external=true" title="class or interface in javax.crypto">SecretKey</a>&nbsp;secretKey,
                        int&nbsp;keySize,
                        <a href="https://docs.oracle.com/javase/8/docs/api/javax/xml/namespace/QName.html?is-external=true" title="class or interface in javax.xml.namespace">QName</a>&nbsp;wrappingElementQName,
                        boolean&nbsp;addEncryptedKeyInKeyInfo)</code>
<div class="block">Encrypt the root document element inside a Document.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static org.apache.xml.security.encryption.EncryptedKey</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="XMLEncryptionUtil.html#encryptKey-org.w3c.dom.Document-javax.crypto.SecretKey-java.security.PublicKey-int-">encryptKey</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/org/w3c/dom/Document.html?is-external=true" title="class or interface in org.w3c.dom">Document</a>&nbsp;document,
          <a href="https://docs.oracle.com/javase/8/docs/api/javax/crypto/SecretKey.html?is-external=true" title="class or interface in javax.crypto">SecretKey</a>&nbsp;keyToBeEncrypted,
          <a href="https://docs.oracle.com/javase/8/docs/api/java/security/PublicKey.html?is-external=true" title="class or interface in java.security">PublicKey</a>&nbsp;keyUsedToEncryptSecretKey,
          int&nbsp;keySize)</code>
<div class="block">
 Encrypt the Key to be transported</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="DS_KEY_INFO">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DS_KEY_INFO</h4>
<pre>public static final&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> DS_KEY_INFO</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="https://www.keycloak.org/docs-api/5.0/javadocs/constant-values.html#org.keycloak.saml.processing.core.util.XMLEncryptionUtil.DS_KEY_INFO">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="XMLEncryptionUtil--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>XMLEncryptionUtil</h4>
<pre>public&nbsp;XMLEncryptionUtil()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="encryptKey-org.w3c.dom.Document-javax.crypto.SecretKey-java.security.PublicKey-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>encryptKey</h4>
<pre>public static&nbsp;org.apache.xml.security.encryption.EncryptedKey&nbsp;encryptKey(<a href="https://docs.oracle.com/javase/8/docs/api/org/w3c/dom/Document.html?is-external=true" title="class or interface in org.w3c.dom">Document</a>&nbsp;document,
                                                                         <a href="https://docs.oracle.com/javase/8/docs/api/javax/crypto/SecretKey.html?is-external=true" title="class or interface in javax.crypto">SecretKey</a>&nbsp;keyToBeEncrypted,
                                                                         <a href="https://docs.oracle.com/javase/8/docs/api/java/security/PublicKey.html?is-external=true" title="class or interface in java.security">PublicKey</a>&nbsp;keyUsedToEncryptSecretKey,
                                                                         int&nbsp;keySize)
                                                                  throws <a href="../../../common/exceptions/ProcessingException.html" title="class in org.keycloak.saml.common.exceptions">ProcessingException</a></pre>
<div class="block"><p>
 Encrypt the Key to be transported
 </p>
 <p>
 Data is encrypted with a SecretKey. Then the key needs to be transported to the other end where it is needed for
 decryption. For the Key transport, the SecretKey is encrypted with the recipient's public key. At the receiving
 end, the
 receiver can decrypt the Secret Key using his private key.s
 </p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>document</code> - </dd>
<dd><code>keyToBeEncrypted</code> - Symmetric Key (SecretKey)</dd>
<dd><code>keyUsedToEncryptSecretKey</code> - Asymmetric Key (Public Key)</dd>
<dd><code>keySize</code> - Length of the key</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../common/exceptions/ProcessingException.html" title="class in org.keycloak.saml.common.exceptions">ProcessingException</a></code></dd>
</dl>
</li>
</ul>
<a name="encryptElement-javax.xml.namespace.QName-org.w3c.dom.Document-java.security.PublicKey-javax.crypto.SecretKey-int-javax.xml.namespace.QName-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>encryptElement</h4>
<pre>public static&nbsp;void&nbsp;encryptElement(<a href="https://docs.oracle.com/javase/8/docs/api/javax/xml/namespace/QName.html?is-external=true" title="class or interface in javax.xml.namespace">QName</a>&nbsp;elementQName,
                                  <a href="https://docs.oracle.com/javase/8/docs/api/org/w3c/dom/Document.html?is-external=true" title="class or interface in org.w3c.dom">Document</a>&nbsp;document,
                                  <a href="https://docs.oracle.com/javase/8/docs/api/java/security/PublicKey.html?is-external=true" title="class or interface in java.security">PublicKey</a>&nbsp;publicKey,
                                  <a href="https://docs.oracle.com/javase/8/docs/api/javax/crypto/SecretKey.html?is-external=true" title="class or interface in javax.crypto">SecretKey</a>&nbsp;secretKey,
                                  int&nbsp;keySize,
                                  <a href="https://docs.oracle.com/javase/8/docs/api/javax/xml/namespace/QName.html?is-external=true" title="class or interface in javax.xml.namespace">QName</a>&nbsp;wrappingElementQName,
                                  boolean&nbsp;addEncryptedKeyInKeyInfo)
                           throws <a href="../../../common/exceptions/ProcessingException.html" title="class in org.keycloak.saml.common.exceptions">ProcessingException</a></pre>
<div class="block">Given an element in a Document, encrypt the element and replace the element in the document with the encrypted
 data</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>elementQName</code> - QName of the element that we like to encrypt</dd>
<dd><code>document</code> - </dd>
<dd><code>publicKey</code> - </dd>
<dd><code>secretKey</code> - </dd>
<dd><code>keySize</code> - </dd>
<dd><code>wrappingElementQName</code> - A QName of an element that will wrap the encrypted element</dd>
<dd><code>addEncryptedKeyInKeyInfo</code> - Need for the EncryptedKey to be placed in ds:KeyInfo</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../common/exceptions/ProcessingException.html" title="class in org.keycloak.saml.common.exceptions">ProcessingException</a></code></dd>
</dl>
</li>
</ul>
<a name="encryptElement-org.w3c.dom.Document-org.w3c.dom.Element-java.security.PublicKey-javax.crypto.SecretKey-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>encryptElement</h4>
<pre>public static&nbsp;void&nbsp;encryptElement(<a href="https://docs.oracle.com/javase/8/docs/api/org/w3c/dom/Document.html?is-external=true" title="class or interface in org.w3c.dom">Document</a>&nbsp;document,
                                  <a href="https://docs.oracle.com/javase/8/docs/api/org/w3c/dom/Element.html?is-external=true" title="class or interface in org.w3c.dom">Element</a>&nbsp;element,
                                  <a href="https://docs.oracle.com/javase/8/docs/api/java/security/PublicKey.html?is-external=true" title="class or interface in java.security">PublicKey</a>&nbsp;publicKey,
                                  <a href="https://docs.oracle.com/javase/8/docs/api/javax/crypto/SecretKey.html?is-external=true" title="class or interface in javax.crypto">SecretKey</a>&nbsp;secretKey,
                                  int&nbsp;keySize)
                           throws <a href="../../../common/exceptions/ProcessingException.html" title="class in org.keycloak.saml.common.exceptions">ProcessingException</a></pre>
<div class="block"><p>
 Encrypts an element in a XML document using the specified public key, secret key, and key size. This method
 doesn't wrap
 the encrypted element in a new element. Instead, it replaces the element with its encrypted version.
 </p>
 <p>
 For example, calling this method to encrypt the <tt><b>inner</b></tt> element in the following XML document

 <pre>
    &lt;root&gt;
       &lt;outer&gt;
          &lt;inner&gt;
             ...
          &lt;/inner&gt;
       &lt;/outer&gt;
    &lt;/root&gt;
 </pre>

 would result in a document similar to

 <pre>
    &lt;root&gt;
       &lt;outer&gt;
          &lt;xenc:EncryptedData xmlns:xenc="..."&gt;
             ...
          &lt;/xenc:EncryptedData&gt;
       &lt;/outer&gt;
    &lt;/root&gt;
 </pre>

 </p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>document</code> - the <code>Document</code> that contains the element to be encrypted.</dd>
<dd><code>element</code> - the <code>Element</code> to be encrypted.</dd>
<dd><code>publicKey</code> - the <code>PublicKey</code> that must be used to encrypt the secret key.</dd>
<dd><code>secretKey</code> - the <code>SecretKey</code> used to encrypt the specified element.</dd>
<dd><code>keySize</code> - the size (in bits) of the secret key.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../common/exceptions/ProcessingException.html" title="class in org.keycloak.saml.common.exceptions">ProcessingException</a></code> - if an error occurs while encrypting the element with the specified params.</dd>
</dl>
</li>
</ul>
<a name="encryptElementInDocument-org.w3c.dom.Document-java.security.PublicKey-javax.crypto.SecretKey-int-javax.xml.namespace.QName-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>encryptElementInDocument</h4>
<pre>public static&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/org/w3c/dom/Element.html?is-external=true" title="class or interface in org.w3c.dom">Element</a>&nbsp;encryptElementInDocument(<a href="https://docs.oracle.com/javase/8/docs/api/org/w3c/dom/Document.html?is-external=true" title="class or interface in org.w3c.dom">Document</a>&nbsp;document,
                                               <a href="https://docs.oracle.com/javase/8/docs/api/java/security/PublicKey.html?is-external=true" title="class or interface in java.security">PublicKey</a>&nbsp;publicKey,
                                               <a href="https://docs.oracle.com/javase/8/docs/api/javax/crypto/SecretKey.html?is-external=true" title="class or interface in javax.crypto">SecretKey</a>&nbsp;secretKey,
                                               int&nbsp;keySize,
                                               <a href="https://docs.oracle.com/javase/8/docs/api/javax/xml/namespace/QName.html?is-external=true" title="class or interface in javax.xml.namespace">QName</a>&nbsp;wrappingElementQName,
                                               boolean&nbsp;addEncryptedKeyInKeyInfo)
                                        throws <a href="../../../common/exceptions/ProcessingException.html" title="class in org.keycloak.saml.common.exceptions">ProcessingException</a>,
                                               <a href="../../../common/exceptions/ConfigurationException.html" title="class in org.keycloak.saml.common.exceptions">ConfigurationException</a></pre>
<div class="block">Encrypt the root document element inside a Document. <b>NOTE:</b> The document root element will be replaced by
 the
 wrapping element.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>document</code> - Document that contains an element to encrypt</dd>
<dd><code>publicKey</code> - The Public Key used to encrypt the secret encryption key</dd>
<dd><code>secretKey</code> - The secret encryption key</dd>
<dd><code>keySize</code> - Length of key</dd>
<dd><code>wrappingElementQName</code> - QName of the element to be used to wrap around the cipher data.</dd>
<dd><code>addEncryptedKeyInKeyInfo</code> - Should the encrypted key be inside a KeyInfo or added as a peer of Cipher Data</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An element that has the wrappingElementQName</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../common/exceptions/ProcessingException.html" title="class in org.keycloak.saml.common.exceptions">ProcessingException</a></code></dd>
<dd><code><a href="../../../common/exceptions/ConfigurationException.html" title="class in org.keycloak.saml.common.exceptions">ConfigurationException</a></code></dd>
</dl>
</li>
</ul>
<a name="decryptElementInDocument-org.w3c.dom.Document-java.security.PrivateKey-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>decryptElementInDocument</h4>
<pre>public static&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/org/w3c/dom/Element.html?is-external=true" title="class or interface in org.w3c.dom">Element</a>&nbsp;decryptElementInDocument(<a href="https://docs.oracle.com/javase/8/docs/api/org/w3c/dom/Document.html?is-external=true" title="class or interface in org.w3c.dom">Document</a>&nbsp;documentWithEncryptedElement,
                                               <a href="https://docs.oracle.com/javase/8/docs/api/java/security/PrivateKey.html?is-external=true" title="class or interface in java.security">PrivateKey</a>&nbsp;privateKey)
                                        throws <a href="../../../common/exceptions/ProcessingException.html" title="class in org.keycloak.saml.common.exceptions">ProcessingException</a></pre>
<div class="block">Decrypt an encrypted element inside a document</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>documentWithEncryptedElement</code> - </dd>
<dd><code>privateKey</code> - key need to unwrap the encryption key</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the document with the encrypted element replaced by the data element</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../common/exceptions/ProcessingException.html" title="class in org.keycloak.saml.common.exceptions">ProcessingException</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="XMLEncryptionUtil.html#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="https://www.keycloak.org/docs-api/5.0/javadocs/org/keycloak/saml/processing/core/util/class-use/XMLEncryptionUtil.html">Use</a></li>
<li><a href="https://www.keycloak.org/docs-api/5.0/javadocs/org/keycloak/saml/processing/core/util/package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>Keycloak Docs Distribution 5.0.0</b></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="SignatureUtilTransferObject.html" title="class in org.keycloak.saml.processing.core.util"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="XMLSignatureUtil.html" title="class in org.keycloak.saml.processing.core.util"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="https://www.keycloak.org/docs-api/5.0/javadocs/index.html?org/keycloak/saml/processing/core/util/XMLEncryptionUtil.html" target="_top">Frames</a></li>
<li><a href="XMLEncryptionUtil.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="XMLEncryptionUtil.html#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="XMLEncryptionUtil.html#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="XMLEncryptionUtil.html#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="XMLEncryptionUtil.html#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="XMLEncryptionUtil.html#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="XMLEncryptionUtil.html#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2019 <a href="http://www.jboss.org">JBoss by Red Hat</a>. All rights reserved.</small></p>
</body>
</html>
