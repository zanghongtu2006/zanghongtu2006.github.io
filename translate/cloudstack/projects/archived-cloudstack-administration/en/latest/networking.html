<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>为用户设置网络 &#8212; Apache CloudStack Administration Documentation 4.11.0.0 documentation</title>
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="https://assets.readthedocs.org/static/css/badge_only.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootswatch-3.2.0/spacelab/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://assets.readthedocs.org/static/javascript/readthedocs-doc-embed.js"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.2.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="虚拟机" href="virtual_machines.html" />
    <link rel="prev" title="计算方案" href="service_offerings.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  
<!-- RTD Extra Head -->

<!-- 
Always link to the latest version, as canonical.
http://docs.readthedocs.org/en/latest/canonical.html
-->
<link rel="canonical" href="networking.html" />

<link rel="stylesheet" href="https://assets.readthedocs.org/static/css/readthedocs-doc-embed.css" type="text/css" />

<script type="text/javascript" src="_static/readthedocs-data.js"></script>

<!-- Add page-specific data, which must exist in the page js, not global -->
<script type="text/javascript">
READTHEDOCS_DATA['page'] = 'networking'
READTHEDOCS_DATA['source_suffix'] = '.rst'
</script>

<script type="text/javascript" src="https://assets.readthedocs.org/static/javascript/readthedocs-analytics.js"></script>

<!-- end RTD <extrahead> -->
</head><body>

  <div id="navbar" class="navbar navbar-inverse navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          管理员手册</a>
        <span class="navbar-text navbar-version pull-left"><b>4.11</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
                <a role="button"
                   id="dLabelGlobalToc"
                   data-toggle="dropdown"
                   data-target="#"
                   href="index.html">Sections <b class="caret"></b></a>
                <ul class="dropdown-menu globaltoc"
                    role="menu"
                    aria-labelledby="dLabelGlobalToc">
                     <ul>
<li class="toctree-l1"><a class="reference internal" href="ui.html">用户界面</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="accounts.html">管理角色、账户、用户和域</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="projects.html">用项目来管理用户和资源</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="service_offerings.html">计算方案</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="networking.html#">为用户设置网络</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="virtual_machines.html">虚拟机</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="templates.html">模板</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="hosts.html">主机</a></li>
<li class="toctree-l1"><a class="reference internal" href="hosts.html#security">安全</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="storage.html">存储</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="systemvm.html">系统虚拟机</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Working with Usage</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="networking_and_traffic.html">Managing Networks and Traffic</a></li>
<li class="toctree-l1"><a class="reference internal" href="networking/using_remote_access.html">Using Remote Access VPN</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="management.html">管理云</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="reliability.html">System Reliability and High Availability</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="plugins/quota.html">Quota Plugin</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tuning.html">调优</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="events.html">Event Notification</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">故障排除</a></li>
</ul>


                </ul>
              </li>
              
                
              
            
            
              
                
  <li>
    <a href="service_offerings.html" title="Previous Chapter: 计算方案"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; 计算方案</span>
    </a>
  </li>
  <li>
    <a href="virtual_machines.html" title="Next Chapter: 虚拟机"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">虚拟机 &raquo;</span>
    </a>
  </li>
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul>
<li><a class="reference internal" href="networking.html#">为用户设置网络</a><ul>
<li><a class="reference internal" href="networking.html#overview-of-setting-up-networking-for-users">设置用户网络概述</a></li>
<li><a class="reference internal" href="networking.html#about-virtual-networks">关于虚拟网络</a><ul>
<li><a class="reference internal" href="networking.html#isolated-networks">Isolated Networks</a></li>
<li><a class="reference internal" href="networking.html#shared-networks">Shared Networks</a></li>
<li><a class="reference internal" href="networking.html#runtime-allocation-of-virtual-network-resources">Runtime Allocation of Virtual Network Resources</a></li>
</ul>
</li>
<li><a class="reference internal" href="networking.html#network-service-providers">Network Service Providers</a></li>
<li><a class="reference internal" href="networking.html#network-offerings">网络方案</a><ul>
<li><a class="reference internal" href="networking.html#creating-a-new-network-offering">Creating a New Network Offering</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    <div class="col-md-9">
      
  <div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>NOTICE: THIS DOCUMENTATION SITE HAS BEEN SUPERSEDED.</p>
<p class="last">For the current documentation site goto: <a class="reference external" href="../../../../index.html">http://docs.cloudstack.apache.org</a></p>
</div>
<div class="section" id="setting-up-networking-for-users">
<h1>为用户设置网络<a class="headerlink" href="networking.html#setting-up-networking-for-users" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview-of-setting-up-networking-for-users">
<h2>设置用户网络概述<a class="headerlink" href="networking.html#overview-of-setting-up-networking-for-users" title="Permalink to this headline">¶</a></h2>
<p>People using cloud infrastructure have a variety of needs and
preferences when it comes to the networking services provided by the
cloud. As a CloudStack administrator, you can do the following things to
set up networking for your users:</p>
<ul class="simple">
<li>Set up physical networks in zones</li>
<li>Set up several different providers for the same service on a single
physical network (for example, both Cisco and Juniper firewalls)</li>
<li>Bundle different types of network services into network offerings, so
users can choose the desired network services for any given virtual
machine</li>
<li>Add new network offerings as time goes on so end users can upgrade to
a better class of service on their network</li>
<li>Provide more ways for a network to be accessed by a user, such as
through a project of which the user is a member</li>
</ul>
</div>
<div class="section" id="about-virtual-networks">
<h2>关于虚拟网络<a class="headerlink" href="networking.html#about-virtual-networks" title="Permalink to this headline">¶</a></h2>
<p>A virtual network is a logical construct that enables multi-tenancy on a
single physical network. In CloudStack a virtual network can be shared
or isolated.</p>
<div class="section" id="isolated-networks">
<h3>Isolated Networks<a class="headerlink" href="networking.html#isolated-networks" title="Permalink to this headline">¶</a></h3>
<p>An isolated network can be accessed only by virtual machines of a single
account. Isolated networks have the following properties.</p>
<ul class="simple">
<li>Resources such as VLAN are allocated and garbage collected
dynamically</li>
<li>There is one network offering for the entire network</li>
<li>The network offering can be upgraded or downgraded but it is for the
entire network</li>
</ul>
<p>For more information, see <a class="reference external" href="http://docs.cloudstack.apache.org/projects/archived-cloudstack-administration/en/latest/networking2.html#configure-guest-traffic-in-an-advanced-zone">“Configure Guest Traffic in an Advanced Zone”</a>.</p>
</div>
<div class="section" id="shared-networks">
<h3>Shared Networks<a class="headerlink" href="networking.html#shared-networks" title="Permalink to this headline">¶</a></h3>
<p>A shared network can be accessed by virtual machines that belong to many
different accounts. Network Isolation on shared networks is accomplished
by using techniques such as security groups, which is supported only in
Basic zones in CloudStack 3.0.3 and later versions.</p>
<ul class="simple">
<li>Shared Networks are created by the administrator</li>
<li>Shared Networks can be designated to a certain domain</li>
<li>Shared Network resources such as VLAN and physical network that it
maps to are designated by the administrator</li>
<li>Shared Networks can be isolated by security groups</li>
<li>Public Network is a shared network that is not shown to the end users</li>
<li>Source NAT per zone is not supported in Shared Network when the
service provider is virtual router. However, Source NAT per account
is supported. For information, see <a class="reference external" href="http://docs.cloudstack.apache.org/projects/archived-cloudstack-administration/en/latest/networking2.html#configuring-a-shared-guest-network">“Configuring a Shared Guest
Network”</a>.</li>
</ul>
</div>
<div class="section" id="runtime-allocation-of-virtual-network-resources">
<h3>Runtime Allocation of Virtual Network Resources<a class="headerlink" href="networking.html#runtime-allocation-of-virtual-network-resources" title="Permalink to this headline">¶</a></h3>
<p>When you define a new virtual network, all your settings for that
network are stored in CloudStack. The actual network resources are
activated only when the first virtual machine starts in the network.
When all virtual machines have left the virtual network, the network
resources are garbage collected so they can be allocated again. This
helps to conserve network resources.</p>
</div>
</div>
<div class="section" id="network-service-providers">
<h2>Network Service Providers<a class="headerlink" href="networking.html#network-service-providers" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For the most up-to-date list of supported network service providers,
see the CloudStack UI or call <cite>listNetworkServiceProviders</cite>.</p>
</div>
<p>A service provider (also called a network element) is hardware or
virtual appliance that makes a network service possible; for example, a
firewall appliance can be installed in the cloud to provide firewall
service. On a single network, multiple providers can provide the same
network service. For example, a firewall service may be provided by
Cisco or Juniper devices in the same physical network.</p>
<p>You can have multiple instances of the same service provider in a
network (say, more than one Juniper SRX device).</p>
<p>If different providers are set up to provide the same service on the
network, the administrator can create network offerings so users can
specify which network service provider they prefer (along with the other
choices offered in network offerings). Otherwise, CloudStack will choose
which provider to use whenever the service is called for.</p>
<p><em>Supported Network Service Providers</em></p>
<p>CloudStack ships with an internal list of the supported service
providers, and you can choose from this list when creating a network
offering.</p>
<table border="1" class="table-striped table-bordered table-hover docutils">
<colgroup>
<col width="27%" />
<col width="14%" />
<col width="15%" />
<col width="12%" />
<col width="16%" />
<col width="16%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">&#160;</th>
<th class="head">Virtual
Router</th>
<th class="head">Citrix
NetScaler</th>
<th class="head">Juniper
SRX</th>
<th class="head">F5 BigIP</th>
<th class="head">Host based
(KVM/Xen)</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Remote Access VPN</td>
<td>Yes</td>
<td>No</td>
<td>No</td>
<td>No</td>
<td>No</td>
</tr>
<tr class="row-odd"><td>DNS/DHCP/User Data</td>
<td>Yes</td>
<td>No</td>
<td>No</td>
<td>No</td>
<td>No</td>
</tr>
<tr class="row-even"><td>Firewall</td>
<td>Yes</td>
<td>No</td>
<td>Yes</td>
<td>No</td>
<td>No</td>
</tr>
<tr class="row-odd"><td>负载均衡</td>
<td>Yes</td>
<td>Yes</td>
<td>No</td>
<td>Yes</td>
<td>No</td>
</tr>
<tr class="row-even"><td>Elastic IP</td>
<td>No</td>
<td>Yes</td>
<td>No</td>
<td>No</td>
<td>No</td>
</tr>
<tr class="row-odd"><td>Elastic LB</td>
<td>No</td>
<td>Yes</td>
<td>No</td>
<td>No</td>
<td>No</td>
</tr>
<tr class="row-even"><td>Source NAT</td>
<td>Yes</td>
<td>No</td>
<td>Yes</td>
<td>No</td>
<td>No</td>
</tr>
<tr class="row-odd"><td>Static NAT</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
<td>No</td>
<td>No</td>
</tr>
<tr class="row-even"><td>Port Forwarding</td>
<td>Yes</td>
<td>No</td>
<td>Yes</td>
<td>No</td>
<td>No</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="network-offerings">
<h2>网络方案<a class="headerlink" href="networking.html#network-offerings" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For the most up-to-date list of supported network services, see the
CloudStack UI or call listNetworkServices.</p>
</div>
<p>A network offering is a named set of network services, such as:</p>
<ul class="simple">
<li>DHCP</li>
<li>DNS</li>
<li>Source NAT</li>
<li>Static NAT</li>
<li>Port Forwarding</li>
<li>负载均衡</li>
<li>Firewall</li>
<li>VPN</li>
<li>(Optional) Name one of several available providers to use for a given
service, such as Juniper for the firewall</li>
<li>(Optional) Network tag to specify which physical network to use</li>
</ul>
<p>When creating a new VM, the user chooses one of the available network
offerings, and that determines which network services the VM can use.</p>
<p>The CloudStack administrator can create any number of custom network
offerings, in addition to the default network offerings provided by
CloudStack. By creating multiple custom network offerings, you can set
up your cloud to offer different classes of service on a single
multi-tenant physical network. For example, while the underlying
physical wiring may be the same for two tenants, tenant A may only need
simple firewall protection for their website, while tenant B may be
running a web server farm and require a scalable firewall solution, load
balancing solution, and alternate networks for accessing the database
backend.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you create load balancing rules while using a network service
offering that includes an external load balancer device such as
NetScaler, and later change the network service offering to one that
uses the CloudStack virtual router, you must create a firewall rule
on the virtual router for each of your existing load balancing rules
so that they continue to function.</p>
</div>
<p>When creating a new virtual network, the CloudStack administrator
chooses which network offering to enable for that network. Each virtual
network is associated with one network offering. A virtual network can
be upgraded or downgraded by changing its associated network offering.
If you do this, be sure to reprogram the physical network to match.</p>
<p>CloudStack also has internal network offerings for use by CloudStack
system VMs. These network offerings are not visible to users but can be
modified by administrators.</p>
<div class="section" id="creating-a-new-network-offering">
<h3>Creating a New Network Offering<a class="headerlink" href="networking.html#creating-a-new-network-offering" title="Permalink to this headline">¶</a></h3>
<p>To create a network offering:</p>
<ol class="arabic">
<li><p class="first">Log in with admin privileges to the CloudStack UI.</p>
</li>
<li><p class="first">In the left navigation bar, click 计算方案.</p>
</li>
<li><p class="first">In Select Offering, choose Network Offering.</p>
</li>
<li><p class="first">Click Add Network Offering.</p>
</li>
<li><p class="first">In the dialog, make the following choices:</p>
<ul>
<li><p class="first"><strong>Name</strong>. Any desired name for the network offering.</p>
</li>
<li><p class="first"><strong>Description</strong>. A short description of the offering that can be
displayed to users.</p>
</li>
<li><p class="first"><strong>Network Rate</strong>. Allowed data transfer rate in MB per second.</p>
</li>
<li><p class="first"><strong>Guest Type</strong>. Choose whether the guest network is isolated or
shared.</p>
<p>For a description of this term, see <a class="reference external" href="networking.html#about-virtual-networks">“About Virtual
Networks”</a>.</p>
</li>
<li><p class="first"><strong>Persistent</strong>. Indicate whether the guest network is persistent
or not. The network that you can provision without having to
deploy a VM on it is termed persistent network. For more
information, see <a class="reference external" href="http://docs.cloudstack.apache.org/projects/archived-cloudstack-administration/en/latest/networking2.html#persistent-networks">“Persistent
Networks”</a>.</p>
</li>
<li><p class="first"><strong>Specify VLAN</strong>. (Isolated guest networks only) Indicate whether
a VLAN could be specified when this offering is used. If you
select this option and later use this network offering while
creating a VPC tier or an isolated network, you will be able to
specify a VLAN ID for the network you create.</p>
</li>
<li><p class="first"><strong>VPC</strong>. This option indicate whether the guest network is Virtual
Private Cloud-enabled. A Virtual Private Cloud (VPC) is a private,
isolated part of CloudStack. A VPC can have its own virtual
network topology that resembles a traditional physical network.
For more information on VPCs, see <a class="reference external" href="http://docs.cloudstack.apache.org/projects/archived-cloudstack-administration/en/latest/networking2.html#about-virtual-private-clouds">“About Virtual
Private Clouds”</a>.</p>
</li>
<li><p class="first"><strong>Supported Services</strong>. Select one or more of the possible network
services. For some services, you must also choose the service
provider; for example, if you select Load Balancer, you can choose
the CloudStack virtual router or any other load balancers that
have been configured in the cloud. Depending on which services you
choose, additional fields may appear in the rest of the dialog
box.</p>
<p>Based on the guest network type selected, you can see the
following supported services:</p>
<table border="1" class="table-striped table-bordered table-hover docutils">
<colgroup>
<col width="16%" />
<col width="63%" />
<col width="11%" />
<col width="11%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Supported Services</th>
<th class="head">Description</th>
<th class="head">Isolated</th>
<th class="head">Shared</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>DHCP</td>
<td>For more information, see <a class="reference external" href="http://docs.cloudstack.apache.org/projects/archived-cloudstack-administration/en/latest/networking2.html#dns-and-dhcp">“DNS 和 DHCP”</a>.</td>
<td>Supported</td>
<td>Supported</td>
</tr>
<tr class="row-odd"><td>DNS</td>
<td>For more information, see <a class="reference external" href="http://docs.cloudstack.apache.org/projects/archived-cloudstack-administration/en/latest/networking2.html#dns-and-dhcp">“DNS 和 DHCP”</a>.</td>
<td>Supported</td>
<td>Supported</td>
</tr>
<tr class="row-even"><td>Load Balancer</td>
<td>If you select Load Balancer, you can choose the CloudStack virtual
router or any other load balancers that have been configured in
the cloud.</td>
<td>Supported</td>
<td>Supported</td>
</tr>
<tr class="row-odd"><td>Firewall</td>
<td>For more information, see the 管理员手册.</td>
<td>Supported</td>
<td>Supported</td>
</tr>
<tr class="row-even"><td>Source NAT</td>
<td>If you select Source NAT, you can choose the CloudStack virtual
router or any other Source NAT providers that have been configured
in the cloud.</td>
<td>Supported</td>
<td>Supported</td>
</tr>
<tr class="row-odd"><td>Static NAT</td>
<td>If you select Static NAT, you can choose the CloudStack virtual
router or any other Static NAT providers that have been configured
in the cloud.</td>
<td>Supported</td>
<td>Supported</td>
</tr>
<tr class="row-even"><td>Port Forwarding</td>
<td>If you select Port Forwarding, you can choose the CloudStack
virtual router or any other Port Forwarding providers that have
been configured in the cloud.</td>
<td>Supported</td>
<td>Not Supported</td>
</tr>
<tr class="row-odd"><td>VPN</td>
<td>For more information, see <a class="reference external" href="http://docs.cloudstack.apache.org/projects/archived-cloudstack-administration/en/latest/networking2.html#remote-access-vpn">“Remote Access
VPN”</a>.</td>
<td>Supported</td>
<td>Not Supported</td>
</tr>
<tr class="row-even"><td>User Data</td>
<td>For more information, see <a class="reference external" href="api.html#user-data-and-meta-data">“User Data and Meta
Data”</a>.</td>
<td>Not Supported</td>
<td>Supported</td>
</tr>
<tr class="row-odd"><td>Network ACL</td>
<td>For more information, see <a class="reference external" href="http://docs.cloudstack.apache.org/projects/archived-cloudstack-administration/en/latest/networking2.html#configuring-network-access-control-list">“Configuring Network Access
Control List”</a>.</td>
<td>Supported</td>
<td>Not Supported</td>
</tr>
<tr class="row-even"><td>安全组</td>
<td>For more information, see <a class="reference external" href="http://docs.cloudstack.apache.org/projects/archived-cloudstack-administration/en/latest/networking2.html#adding-a-security-group">“Adding a 安全
Group”</a>.</td>
<td>Not Supported</td>
<td>Supported</td>
</tr>
</tbody>
</table>
</li>
<li><p class="first"><strong>System Offering</strong>. If the service provider for any of the
services selected in Supported Services is a virtual router, the
System Offering field appears. Choose the system service offering
that you want virtual routers to use in this network. For example,
if you selected Load Balancer in Supported Services and selected a
virtual router to provide load balancing, the System Offering
field appears so you can choose between the CloudStack default
system service offering and any custom system service offerings
that have been defined by the CloudStack root administrator.</p>
<p>For more information, see <a class="reference external" href="service_offerings.html#system-service-offerings">“System 计算方案”</a>.</p>
</li>
<li><p class="first"><strong>LB Isolation</strong>: Specify what type of load balancer isolation you
want for the network: Shared or Dedicated.</p>
<p><strong>Dedicated</strong>: If you select dedicated LB isolation, a dedicated
load balancer device is assigned for the network from the pool of
dedicated load balancer devices provisioned in the zone. If no
sufficient dedicated load balancer devices are available in the
zone, network creation fails. Dedicated device is a good choice
for the high-traffic networks that make full use of the device’s
resources.</p>
<p><strong>Shared</strong>: If you select shared LB isolation, a shared load
balancer device is assigned for the network from the pool of
shared load balancer devices provisioned in the zone. While
provisioning CloudStack picks the shared load balancer device that
is used by the least number of accounts. Once the device reaches
its maximum capacity, the device will not be allocated to a new
account.</p>
</li>
<li><p class="first"><strong>Mode</strong>: You can select either Inline mode or Side by Side mode:</p>
<p><strong>Inline mode</strong>: Supported only for Juniper SRX firewall and BigF5
load balancer devices. In inline mode, a firewall device is placed
in front of a load balancing device. The firewall acts as the
gateway for all the incoming traffic, then redirect the load
balancing traffic to the load balancer behind it. The load
balancer in this case will not have the direct access to the
public network.</p>
<p><strong>Side by Side</strong>: In side by side mode, a firewall device is
deployed in parallel with the load balancer device. So the traffic
to the load balancer public IP is not routed through the firewall,
and therefore, is exposed to the public network.</p>
</li>
<li><p class="first"><strong>Associate Public IP</strong>: Select this option if you want to assign
a public IP address to the VMs deployed in the guest network. This
option is available only if</p>
<ul class="simple">
<li>Guest network is shared.</li>
<li>StaticNAT is enabled.</li>
<li>Elastic IP is enabled.</li>
</ul>
<p>For information on Elastic IP, see <a class="reference external" href="http://docs.cloudstack.apache.org/projects/archived-cloudstack-administration/en/latest/networking2.html#about-elastic-ip">“About Elastic IP”</a>.</p>
</li>
<li><p class="first"><strong>Redundant router capability</strong>: Available only when Virtual
Router is selected as the Source NAT provider. Select this option
if you want to use two virtual routers in the network for
uninterrupted connection: one operating as the master virtual
router and the other as the backup. The master virtual router
receives requests from and sends responses to the user’s VM. The
backup virtual router is activated only when the master is down.
After the failover, the backup becomes the master virtual router.
CloudStack deploys the routers on different hosts to ensure
reliability if one host is down.</p>
</li>
<li><p class="first"><strong>Conserve mode</strong>: Indicate whether to use conserve mode. In this
mode, network resources are allocated only when the first virtual
machine starts in the network. When conservative mode is off, the
public IP can only be used for a single service. For example, a
public IP used for a port forwarding rule cannot be used for
defining other services, such as StaticNAT or load balancing. When
the conserve mode is on, you can define more than one service on
the same public IP.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If StaticNAT is enabled, irrespective of the status of the
conserve mode, no port forwarding or load balancing rule can be
created for the IP. However, you can add the firewall rules by
using the createFirewallRule command.</p>
</div>
</li>
<li><p class="first"><strong>Tags</strong>: Network tag to specify which physical network to use.</p>
</li>
<li><p class="first"><strong>Default egress policy</strong>: Configure the default policy for
firewall egress rules. Options are Allow and Deny. Default is
Allow if no egress policy is specified, which indicates that all
the egress traffic is accepted when a guest network is created
from this offering.</p>
<p>To block the egress traffic for a guest network, select Deny. In
this case, when you configure an egress rules for an isolated
guest network, rules are added to allow the specified traffic.</p>
</li>
</ul>
</li>
<li><p class="first">Click Add.</p>
</li>
</ol>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="networking.html#">Back to top</a>
          | <a href="service_offerings.html" title="Previous Chapter: 计算方案"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; 计算方案</span>
          </a>
          | <a href="virtual_machines.html" title="Next Chapter: 虚拟机"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">虚拟机 &raquo;</span>
          </a>
      
        <br/>
        
<div id="sourcelink">
  <a href="_sources/networking.rst.txt"
     rel="nofollow">Source</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2016, Apache Software Foundation.<br/>
    </p>
  </div>
</footer>
  </body>
</html>