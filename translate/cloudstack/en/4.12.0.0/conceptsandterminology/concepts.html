

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>什么是 Apache CloudStack? &mdash; Apache CloudStack 4.12.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../static/documentation_options.js"></script>
        <script type="text/javascript" src="../static/jquery.js"></script>
        <script type="text/javascript" src="../static/underscore.js"></script>
        <script type="text/javascript" src="../static/doctools.js"></script>
        <script type="text/javascript" src="../static/language_data.js"></script>
        <script type="text/javascript" src="https://assets.readthedocs.org/static/javascript/readthedocs-doc-embed.js"></script>
    
    <script type="text/javascript" src="../static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="小规模部署" href="choosing_deployment_architecture.html" />
    <link rel="prev" title="CloudStack 概念和术语" href="index.html" /> 

<!-- RTD Extra Head -->

<!-- 
Always link to the latest version, as canonical.
http://docs.readthedocs.org/en/latest/canonical.html
-->
<link rel="canonical" href="../../latest/conceptsandterminology/concepts.html" />

<link rel="stylesheet" href="https://assets.readthedocs.org/static/css/readthedocs-doc-embed.css" type="text/css" />

<script type="text/javascript" src="../static/readthedocs-data.js"></script>

<!-- Add page-specific data, which must exist in the page js, not global -->
<script type="text/javascript">
READTHEDOCS_DATA['page'] = "conceptsandterminology/concepts"
READTHEDOCS_DATA['source_suffix'] = ".rst"
</script>

<script type="text/javascript" src="https://assets.readthedocs.org/static/javascript/readthedocs-analytics.js"></script>

<!-- end RTD <extrahead> -->
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Apache CloudStack
          

          
          </a>

          
            
            
            
              <div class="version">
                4.12.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">目录:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">CloudStack 概念和术语</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html#concepts-and-terminolgy">概念和术语</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="concepts.html#">什么是 Apache CloudStack?</a></li>
<li class="toctree-l3"><a class="reference internal" href="concepts.html#what-can-apache-cloudstack-do">Apache CloudStack 能做什么?</a><ul>
<li class="toctree-l4"><a class="reference internal" href="concepts.html#multiple-hypervisor-support">多虚拟化支持</a></li>
<li class="toctree-l4"><a class="reference internal" href="concepts.html#massively-scalable-infrastructure-management">大规模可扩展的基础设施管理</a></li>
<li class="toctree-l4"><a class="reference internal" href="concepts.html#automatic-cloud-configuration-management">Automatic Cloud Configuration Management</a></li>
<li class="toctree-l4"><a class="reference internal" href="concepts.html#graphical-user-interface">图形化界面</a></li>
<li class="toctree-l4"><a class="reference internal" href="concepts.html#api">API</a></li>
<li class="toctree-l4"><a class="reference internal" href="concepts.html#aws-ec2-api-support">支持 AWS EC2 API</a></li>
<li class="toctree-l4"><a class="reference internal" href="concepts.html#high-availability">高可用</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="concepts.html#deployment-architecture-overview">部署架构概述</a><ul>
<li class="toctree-l4"><a class="reference internal" href="concepts.html#management-server-overview">管理服务概述</a></li>
<li class="toctree-l4"><a class="reference internal" href="concepts.html#cloud-infrastructure-overview">Cloud 基础设施概述</a></li>
<li class="toctree-l4"><a class="reference internal" href="concepts.html#networking-overview">网络概述</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="concepts.html#cloudstack-terminology">CloudStack 术语</a><ul>
<li class="toctree-l4"><a class="reference internal" href="concepts.html#about-regions">地域</a></li>
<li class="toctree-l4"><a class="reference internal" href="concepts.html#about-zones">资源域</a></li>
<li class="toctree-l4"><a class="reference internal" href="concepts.html#about-pods">机架</a></li>
<li class="toctree-l4"><a class="reference internal" href="concepts.html#about-clusters">集群</a></li>
<li class="toctree-l4"><a class="reference internal" href="concepts.html#about-hosts">主机</a></li>
<li class="toctree-l4"><a class="reference internal" href="concepts.html#about-primary-storage">主存储</a></li>
<li class="toctree-l4"><a class="reference internal" href="concepts.html#about-secondary-storage">About 二级存储</a></li>
<li class="toctree-l4"><a class="reference internal" href="concepts.html#about-physical-networks">About Physical Networks</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#choosing-a-deployment-architecture">架构选型</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#network-setup">网络配置</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#storage-setup">存储配置</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../quickinstallationguide/qig.html">快速入门指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installguide/index.html">安装指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="../upgrading/index.html">升级 CloudStack</a></li>
<li class="toctree-l1"><a class="reference internal" href="../adminguide/index.html">使用手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developersguide/index.html">开发者手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plugins/index.html">插件使用手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releasenotes/index.html">发行版本说明</a></li>
</ul>
<p class="caption"><span class="caption-text">其它:</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="http://cloudstack.apache.org/api.html">API 文档</a></li>
<li class="toctree-l1"><a class="reference external" href="https://cwiki.apache.org/confluence/display/CLOUDSTACK/Home">Apache CloudStack Wiki</a></li>
<li class="toctree-l1"><a class="reference external" href="http://cloudstack.apache.org/">Apache CloudStack 官网</a></li>
<li class="toctree-l1"><a class="reference external" href="http://cloudstack.apache.org/downloads.html">Apache CloudStack 源码</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/apache/cloudstack">Apache CloudStack on GitHub</a></li>
</ul>
<p class="caption"><span class="caption-text">Pre 4.11 Documentation:</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="../../../projects/cloudstack-installation.html">安装指南</a></li>
<li class="toctree-l1"><a class="reference external" href="../../../projects/cloudstack-administration.html">管理员手册</a></li>
<li class="toctree-l1"><a class="reference external" href="../../../projects/cloudstack-release-notes.html">发行版本说明</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Apache CloudStack</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">CloudStack 概念和术语</a> &raquo;</li>
        
      <li>什么是 Apache CloudStack?</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/apache/cloudstack-documentation/blob/4.12.0.0/source/conceptsandterminology/concepts.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="what-is-apache-cloudstack">
<h1>什么是 Apache CloudStack?<a class="headerlink" href="concepts.html#what-is-apache-cloudstack" title="Permalink to this headline">¶</a></h1>
<p>Apache CloudStack 是一个开源的IaaS平台，用来管理、编排存储、网络和计算资源池，以供建立公有或私有的IaaS云。</p>
<p>使用 CloudStack 您可以：</p>
<ul class="simple">
<li>创建一个按需弹性缩放的云计算服务。</li>
<li>Allow end-users to provision resources</li>
</ul>
</div>
<div class="section" id="what-can-apache-cloudstack-do">
<h1>Apache CloudStack 能做什么?<a class="headerlink" href="concepts.html#what-can-apache-cloudstack-do" title="Permalink to this headline">¶</a></h1>
<div class="section" id="multiple-hypervisor-support">
<h2>多虚拟化支持<a class="headerlink" href="concepts.html#multiple-hypervisor-support" title="Permalink to this headline">¶</a></h2>
<p>CloudStack 支持多种虚拟化或者虚拟化相关的技术。一个云可以包含多种虚拟化技术。截至当前版本，CloudStack可以支持如下：</p>
<ul class="simple">
<li>BareMetal (via IPMI)</li>
<li>Hyper-V</li>
<li>KVM</li>
<li>LXC</li>
<li>vSphere (via vCenter)</li>
<li>Xenserver</li>
<li>Xen Project</li>
</ul>
</div>
<div class="section" id="massively-scalable-infrastructure-management">
<h2>大规模可扩展的基础设施管理<a class="headerlink" href="concepts.html#massively-scalable-infrastructure-management" title="Permalink to this headline">¶</a></h2>
<p>CloudStack 可以管理多地理区域分布的数以万计的物理服务器。管理服务去几乎是线性扩展的，不需要集群级的管理服务器。
可以在云中服务器无感知的情况下对管理服务进行停机维护。</p>
</div>
<div class="section" id="automatic-cloud-configuration-management">
<h2>Automatic Cloud Configuration Management<a class="headerlink" href="concepts.html#automatic-cloud-configuration-management" title="Permalink to this headline">¶</a></h2>
<p>CloudStack 为每个虚拟机自动配置网络和存储。在内部，虚拟设备池支持云本身的配置操作。这些设备提供诸如防火墙、路由、DHCP、VPN、控制台代理，存储访问和存储备份等服务。水平可伸缩的虚拟机简化了云的安装和日常操作。</p>
</div>
<div class="section" id="graphical-user-interface">
<h2>图形化界面<a class="headerlink" href="concepts.html#graphical-user-interface" title="Permalink to this headline">¶</a></h2>
<p>CloudStack 提供一个用来配置和管理云的管理员控制台，和一个用来管理虚拟机和虚拟机模版的终端用户界面。UI界面可以按需定制，以展示服务提供商或企业信息。</p>
</div>
<div class="section" id="api">
<h2>API<a class="headerlink" href="concepts.html#api" title="Permalink to this headline">¶</a></h2>
<p>CloudStack 为云的操作、管理和使用提供了一套Rest风格的API。</p>
</div>
<div class="section" id="aws-ec2-api-support">
<h2>支持 AWS EC2 API<a class="headerlink" href="concepts.html#aws-ec2-api-support" title="Permalink to this headline">¶</a></h2>
<p>CloudStack 提供 EC2 API 转换层，兼容 EC2 公有云服务。</p>
</div>
<div class="section" id="high-availability">
<h2>高可用<a class="headerlink" href="concepts.html#high-availability" title="Permalink to this headline">¶</a></h2>
<p>CloudStack 提供一系列特性用于增强系统可靠性。管理服务本身部署在负载均衡的多台服务器上。MySQL 支持配置为主从结构，用于防止数据损坏和丢失。对于主机，CloudStack支持网卡绑定，支持独立的存储网络，比如iSCSI多路径。</p>
</div>
</div>
<div class="section" id="deployment-architecture-overview">
<h1>部署架构概述<a class="headerlink" href="concepts.html#deployment-architecture-overview" title="Permalink to this headline">¶</a></h1>
<p>通常，CloudStack 由管理服务和被管理的资源组成。在部署的过程中，需要将被管理资源的信息（IP段，存储设备，hypervisor和VLAN等）输入到管理服务中。</p>
<p>最小化安装包含一台用来运行 CloudStack 管理服务的机器和一台用于云基础设施（在这种情况下，一个云基础设施只包含一台Hypervisor）的机器。在最小化部署中，一台机器可以同时部署上述两种服务（仅使用KVM）。</p>
<img alt="../images/basic-deployment.png" src="../images/basic-deployment.png" />
<p>更加完整的环境包含一个多节点高可用的管理服务和支持多种网络拓扑的上万台主机。</p>
<div class="section" id="management-server-overview">
<h2>管理服务概述<a class="headerlink" href="concepts.html#management-server-overview" title="Permalink to this headline">¶</a></h2>
<p>管理服务负责编排和分配云中的资源。</p>
<p>管理服务去通常部署在一个单独的服务器或者虚拟机上。 它负责控制将虚拟机分配到主机上，并为其分配存储和IP地址。管理服务去运行中一个Apache Tomcat 容器上，使用MySQL 做持久化。</p>
<p>管理服务</p>
<ul class="simple">
<li>为管理员和用户提供Web 控制台。</li>
<li>为CloudStack API和EC2 提供API接口。</li>
<li>为来宾虚拟机分配计算资源</li>
<li>管理公共IP和私有IP的分配。</li>
<li>在虚拟机实例化的过程中分配存储。</li>
<li>管理快照、磁盘镜像、ISO。</li>
<li>为云提供一个统一的配置入口。</li>
</ul>
</div>
<div class="section" id="cloud-infrastructure-overview">
<span id="infrastructure-overview"></span><h2>Cloud 基础设施概述<a class="headerlink" href="concepts.html#cloud-infrastructure-overview" title="Permalink to this headline">¶</a></h2>
<p>云中的资源按照以下方式管理:</p>
<ul class="simple">
<li>域: 由一台或多台管理服务管理的一个或多个临近的地理位置的集合。</li>
<li>区域: 通常理解为一个数据中心。一个区域包含多个Pod和二级存储。</li>
<li>区域: 通常理解为一个机架，或者包含二级交换机的一个或多个服务器集群。</li>
<li>集群: 一个集群包含一个或多个同类型的主机和主存储。</li>
<li>主机: 集群种的一个计算节点; 通常是一个虚拟化管理服务。</li>
<li>主存储: 提供给单个集群的存储资源，用于存放虚拟机磁盘镜像。(CloudStack提供全区范围的主存储，但是一般推荐不使用)</li>
<li>二级存储: 全区范围的存储，用于存放磁盘镜像，ISO，虚拟机快照。</li>
</ul>
</div>
<div class="section" id="networking-overview">
<h2>网络概述<a class="headerlink" href="concepts.html#networking-overview" title="Permalink to this headline">¶</a></h2>
<p>CloudStack 提供多种类型的网络，一般划分为两大类:</p>
<ul class="simple">
<li>基础网络: 类似 AWS 经典类型网络。提供一个简单的2层网络，在3层由Hypervisor的网桥提供来宾虚拟机的隔离。</li>
<li>高级网络: 通常使用2层隔离，比如VLAN，SDN，Nicira NVP等。</li>
</ul>
</div>
</div>
<div class="section" id="cloudstack-terminology">
<h1>CloudStack 术语<a class="headerlink" href="concepts.html#cloudstack-terminology" title="Permalink to this headline">¶</a></h1>
<div class="section" id="about-regions">
<span id="id1"></span><h2>地域<a class="headerlink" href="concepts.html#about-regions" title="Permalink to this headline">¶</a></h2>
<p>为了保证云的可靠性，您可以选择将资源分配在多个地理区域。Region是 CloudStack 中最大的资源管理单位。一个地域由多个资源域组成，一个资源域约等于一个数据中心。每个地域由运行在其中的一台管理服务器控制。一个地域中的资源域通常位于地理上接近的位置。Regions are a useful
technique for providing fault tolerance and disaster recovery.</p>
<p>通过将资源域分组，云可以提供更高的可用性和可伸缩性。用户账户可以跨区域，所以用和可以在多个广泛的区域中部署虚拟机。即便一个地域不可用，最终用户依然可以通过部署在另一个地域中的VM使用这些服务。并且，相对于单一中心广泛分部的区域，将各个资源域组织到就近的管理服务下，大大降低了云中的网络延迟。</p>
<p>还可以在区域级别合并和跟踪使用记录，为每个地理区域创建报告或发票。</p>
<div class="figure">
<img alt="../images/region-overview.png" src="../images/region-overview.png" />
</div>
<p>地域对于最终用户是可见的。当用户在指定的CloudStack 管理服务上启动虚拟机时，他也已经选择了对应的地域。用户可能还需要将其私有模板复制到其他区域，以便能够使用这些区域中的模板创建来宾虚拟机。</p>
</div>
<div class="section" id="about-zones">
<span id="id2"></span><h2>资源域<a class="headerlink" href="concepts.html#about-zones" title="Permalink to this headline">¶</a></h2>
<p>资源域是CloudStack 的第二大组织单元。资源域通常理解为一个数据中心，尽管一个数据中心中允许存在多个资源域。按照资源域组织基础架构的好处是提供物理隔离和冗余。例如：每个资源域可以有自己的电力和上行链路，资源域可以地理上广泛的分部开（这不是必须的）。</p>
<p>资源域包含：</p>
<ul class="simple">
<li>一个或多个机架。每个机架包含一个或者多个集群，一个或多个主存储。</li>
<li>一个资源域可能包含一个或者多个主存储，这些主存储由该资源域下所有机架共享。</li>
<li>二级存储，由该资源域下的所有机架共享。</li>
</ul>
<div class="figure">
<img alt="../images/zone-overview.png" src="../images/zone-overview.png" />
</div>
<p>资源域是最终用户可见的。当用户启动虚拟机的时候，他必须选择一个资源域。用户可能需要将其私有模版复制到该资源域下，以便能够使用这些模版来生成来宾虚拟机。</p>
<p>资源域可以是公有的也可以是私有的。公有的可以被所有人可见。
所有人都可以在这个资源域种创建来宾虚拟机。私有资源域只能被部分域可以见。只有在该域以及子域种的用户可以创建来宾虚拟机。</p>
<p>同一个资源域下的主机可以直接访问，而不用经过防火墙。不同资源域下的主机可以通过静态配置的VPN相互访问。</p>
<p>对于每个资源域，管理员可以决定以下事项</p>
<ul class="simple">
<li>一个资源域可以包含多少个机架。</li>
<li>一个机架可以包含多少个集群。</li>
<li>每个集群可以包含多少台主机。</li>
<li>（可选） 每个资源域可以包含多少个主存储，主存储的总容量是多大。</li>
<li>每个资源集群可以包含多少个主存储，主存储的总容量是多大。</li>
<li>一个资源域可以有多少个二级存储。</li>
</ul>
<p>当你通过CloudStack UI来创建一个资源域的时候，它会引导你配置屋里网络和第一个机架，集群，主机，主存储和二级存储。</p>
<p>为了支持VMware的区域范围功能，CloudStack适配了VMware的数据中心，并且将数据中心映射到CloudStack的资源域。
To enable features like storage live migration and zone-wide primary
storage for VMware hosts, CloudStack has to make sure that a zone
contains only a single VMware Datacenter. 因此，在创建新的CloudStack区域时，可以为该区域选择一个VMware数据中心。如果你部署多个VMware 数据中心，每个都是一个独立的CloudStack 资源域。</p>
<div class="admonition note">
<p class="first admonition-title">提示</p>
<p class="last">If you are upgrading from a previous CloudStack version, and your existing
deployment contains a zone with clusters from multiple VMware Datacenters,
that zone will not be forcibly migrated to the new model. 它会沿用之前的方式。但是，新的区域范围功能，例如区域主存储和存储热迁移等功能，将无法使用。</p>
</div>
</div>
<div class="section" id="about-pods">
<span id="id3"></span><h2>机架<a class="headerlink" href="concepts.html#about-pods" title="Permalink to this headline">¶</a></h2>
<p>Pod 通常等同于一个机架。一个机架中的主机存在于同一个子网下。机架是CloudStack 的第三大组织单元。机架存在于资源域下。每个资源域有一个或者多个机架。一个机架包含一个或者多个集群，一个集群包含一个或者多个主存储。机架对最终用户可见。</p>
<div class="figure">
<img alt="../images/pod-overview.png" src="../images/pod-overview.png" />
</div>
</div>
<div class="section" id="about-clusters">
<span id="id4"></span><h2>集群<a class="headerlink" href="concepts.html#about-clusters" title="Permalink to this headline">¶</a></h2>
<p>集群提供了一种组织主机的方式。确切的讲，集群是一个XenServer 资源池，一组KVM 服务器，或者一个vCenter 下已经预设置好的VMWare 集群。进群侠的所有主机都有相同的硬件，运行相同的Hypervisor，在同一个子网下，可以访问同一个主存储。 VM 实例可以从一台主机热迁移到同集群下的另一台主机，期间不中断用户服务。</p>
<p>集群是CloudStack 的第四大组织单元。 资源域包含机架，机架包含集群。 集群的大小取决于Hypervisor 的限制和 CloudStack 建议的大小，通常参考后者居多；参见： 最佳实践。</p>
<p>集群包括一个或者多个主机，一个或者多个主存储。</p>
<div class="figure">
<img alt="../images/cluster-overview.png" src="../images/cluster-overview.png" />
</div>
<p>CloudStack 允许在一个环境中包含多个集群。</p>
<p>即使是只有一台主机，并且以独占的方式使用本地存储，CloudStack 在架构上依然需要创建一个集群。</p>
<p>使用VMware 时，每个VMware 集群都由一台vCenter 管理。 管理员必须将vCenter 注册到CloudStack。 一个资源域中可能有多个vCenter。 每个vCenter 可能管理多个VMware集群。</p>
</div>
<div class="section" id="about-hosts">
<span id="id5"></span><h2>主机<a class="headerlink" href="concepts.html#about-hosts" title="Permalink to this headline">¶</a></h2>
<p>主机是一台独立的电脑。 主机为虚拟机提供计算资源。 每台主机都安装了Hypervisor 用来管理来宾虚拟机。 例如：主机可以安装Citix XenServer, 启用了KVM 的Linux，ESXi，或者Windows Hyper-V。</p>
<p>主机是 CloudStack 的最小组织单元。 地域包含资源域，资源域包含机架，机架包含集群，集群包含虚拟机。</p>
<p>CloudStack 中的主机:</p>
<ul class="simple">
<li>为虚拟机提供必须的CPU，内存，硬盘和网络资源</li>
<li>使用高带宽的TCP/IP 网络互联并连接到Internet</li>
<li>可能位于不通地理位置的多个数据中心</li>
<li>可能有不同的容量（CPU主频，内存大小等），尽管集群种的主机必须是同构的。</li>
</ul>
<p>可以随时通过增加主机来增加来宾虚拟机的容量。</p>
<p>CloudStack 自动检测主机提供的CPU 和内存资源量。</p>
<p>主机对于最终用户是不可见的。 最终用户不能决定他的来宾虚拟机启动在哪个主机上。</p>
<p>将一个主机添加到CloudStack 中，需要以下几个步骤：</p>
<ul class="simple">
<li>在主机上安装Hypervisor系统</li>
<li>给主机分配一个静态IP</li>
<li>确保主机连接到CloudStack 管理服务</li>
</ul>
</div>
<div class="section" id="about-primary-storage">
<h2>主存储<a class="headerlink" href="concepts.html#about-primary-storage" title="Permalink to this headline">¶</a></h2>
<p>主存储绑定在集群上，用来存储在该集群上的所有虚拟机的虚拟磁盘。
在KVM 和VMware 集群上，您可以按资源域来配置主存储。</p>
<p>一个集群中包含至少一个主存储。 为了提升性能，一般选择将主存储部署在主机旁。 CloudStack 负责将来宾虚拟机的磁盘分配到制定的主存储上。</p>
<p>It is useful to set up zone-wide primary storage when you want to avoid
extra data copy operations. With cluster-based primary storage, data in
the primary storage is directly available only to VMs within that
cluster. If a VM in a different cluster needs some of the data, it must
be copied from one cluster to another, using the zone’s secondary
storage as an intermediate step. This operation can be unnecessarily
time-consuming.</p>
<p>Hyper-V 支持 SMB/CIFS 类型的存储。需要注意Hyper-V 不能主持资源域级别的主存储。</p>
<p>Ceph/RBD storage is only supported by the KVM hypervisor. It can be used
as Zone-wide 主存储.</p>
<p>CloudStack is designed to work with all standards-compliant iSCSI and
NFS servers that are supported by the underlying hypervisor, including,
for example:</p>
<ul class="simple">
<li>SolidFire for iSCSI</li>
<li>Dell EqualLogic™ for iSCSI</li>
<li>Network Appliances filers for NFS and iSCSI</li>
<li>Scale Computing for NFS</li>
</ul>
<p>If you intend to use only local disk for your installation, you can skip
adding separate primary storage.</p>
</div>
<div class="section" id="about-secondary-storage">
<h2>About 二级存储<a class="headerlink" href="concepts.html#about-secondary-storage" title="Permalink to this headline">¶</a></h2>
<p>Secondary storage stores the following:</p>
<ul class="simple">
<li>模板 — OS images that can be used to boot VMs and can include
additional configuration information, such as installed applications</li>
<li>ISO images — disc images containing data or bootable media for
operating systems</li>
<li>Disk volume snapshots — saved copies of VM data which can be used for
data recovery or to create new templates</li>
</ul>
<p>The items in secondary storage are available to all hosts in the scope
of the secondary storage, which may be defined as per zone or per
region.</p>
<p>To make items in secondary storage available to all hosts throughout the
cloud, you can add object storage in addition to the zone-based NFS
Secondary Staging Store. It is not necessary to copy templates and
snapshots from one zone to another, as would be required when using zone
NFS alone. Everything is available everywhere.</p>
<p>For Hyper-V hosts, SMB/CIFS storage is supported.</p>
<p>CloudStack provides plugins that enable both OpenStack Object Storage
(Swift, <a class="reference external" href="http://swift.openstack.org">swift.openstack.org</a>) and Amazon
Simple Storage Service (S3) object storage. When using one of these
storage plugins, you configure Swift or S3 storage for the entire
CloudStack, then set up the NFS Secondary Staging Store for each zone.
The NFS storage in each zone acts as a staging area through which all
templates and other secondary storage data pass before being forwarded
to Swift or S3. The backing object storage acts as a cloud-wide
resource, making templates and other data available to any zone in the
cloud.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Heterogeneous 二级存储 is not supported in Regions. For example,
you cannot set up multiple zones, one using NFS secondary and the other
using S3 or Swift secondary.</p>
</div>
</div>
<div class="section" id="about-physical-networks">
<h2>About Physical Networks<a class="headerlink" href="concepts.html#about-physical-networks" title="Permalink to this headline">¶</a></h2>
<p>Part of adding a zone is setting up the physical network. One or (in an
advanced zone) more physical networks can be associated with each zone.
The network corresponds to a NIC on the hypervisor host. Each physical
network can carry one or more types of network traffic. The choices of
traffic type for each network vary depending on whether you are creating
a zone with basic networking or advanced networking.</p>
<p>A physical network is the actual network hardware and wiring in a zone.
A zone can have multiple physical networks. An administrator can:</p>
<ul class="simple">
<li>Add/Remove/Update physical networks in a zone</li>
<li>Configure VLANs on the physical network</li>
<li>Configure a name so the network can be recognized by hypervisors</li>
<li>Configure the service providers (firewalls, load balancers, etc.)
available on a physical network</li>
<li>Configure the IP addresses trunked to a physical network</li>
<li>Specify what type of traffic is carried on the physical network, as
well as other properties like network speed</li>
</ul>
<div class="section" id="basic-zone-network-traffic-types">
<h3>Basic Zone Network Traffic Types<a class="headerlink" href="concepts.html#basic-zone-network-traffic-types" title="Permalink to this headline">¶</a></h3>
<p>When basic networking is used, there can be only one physical network in
the zone. That physical network carries the following traffic types:</p>
<ul class="simple">
<li>Guest. When end users run VMs, they generate guest traffic. The guest
VMs communicate with each other over a network that can be referred
to as the guest network. Each pod in a basic zone is a broadcast
domain, and therefore each pod has a different IP range for the guest
network. The administrator must configure the IP range for each pod.</li>
<li>Management. When CloudStack’s internal resources communicate with
each other, they generate management traffic. This includes
communication between hosts, system VMs (VMs used by CloudStack to
perform various tasks in the cloud), and any other component that
communicates directly with the CloudStack 管理服务. You must
configure the IP range for the system VMs to use.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">提示</p>
<p class="last">We strongly recommend the use of separate NICs for management traffic
and guest traffic.</p>
</div>
<ul class="simple">
<li>Public. Public traffic is generated when VMs in the cloud access the
Internet. Publicly accessible IPs must be allocated for this purpose.
End users can use the CloudStack UI to acquire these IPs to implement
NAT between their guest network and the public network, as described
in Acquiring a New IP Address.</li>
<li>Storage. While labeled “storage” this is specifically about secondary
storage, and doesn’t affect traffic for primary storage. This
includes traffic such as VM templates and snapshots, which is sent
between the secondary storage VM and secondary storage servers.
CloudStack uses a separate Network Interface Controller (NIC) named
storage NIC for storage network traffic. Use of a storage NIC that
always operates on a high bandwidth network allows fast template and
snapshot copying. You must configure the IP range to use for the
storage network.</li>
</ul>
<p>In a basic network, configuring the physical network is fairly
straightforward. In most cases, you only need to configure one guest
network to carry traffic that is generated by guest VMs. If you use a
NetScaler load balancer and enable its elastic IP and elastic load
balancing (EIP and ELB) features, you must also configure a network to
carry public traffic. CloudStack takes care of presenting the necessary
network configuration steps to you in the UI when you add a new zone.</p>
</div>
<div class="section" id="basic-zone-guest-ip-addresses">
<h3>Basic Zone Guest IP Addresses<a class="headerlink" href="concepts.html#basic-zone-guest-ip-addresses" title="Permalink to this headline">¶</a></h3>
<p>When basic networking is used, CloudStack will assign IP addresses in
the CIDR of the pod to the guests in that pod. The administrator must
add a Direct IP range on the pod for this purpose. These IPs are in the
same VLAN as the hosts.</p>
</div>
<div class="section" id="advanced-zone-network-traffic-types">
<span id="about-adv-network-traffic-types"></span><h3>Advanced Zone Network Traffic Types<a class="headerlink" href="concepts.html#advanced-zone-network-traffic-types" title="Permalink to this headline">¶</a></h3>
<p>When advanced networking is used, there can be multiple physical
networks in the zone. Each physical network can carry one or more
traffic types, and you need to let CloudStack know which type of network
traffic you want each network to carry. The traffic types in an advanced
zone are:</p>
<ul class="simple">
<li>Guest. When end users run VMs, they generate guest traffic. The guest
VMs communicate with each other over a network that can be referred
to as the guest network. This network can be isolated or shared. In
an isolated guest network, the administrator needs to reserve VLAN
ranges to provide isolation for each CloudStack account’s network
(potentially a large number of VLANs). In a shared guest network, all
guest VMs share a single network.</li>
<li>Management. When CloudStack’s internal resources communicate with
each other, they generate management traffic. This includes
communication between hosts, system VMs (VMs used by CloudStack to
perform various tasks in the cloud), and any other component that
communicates directly with the CloudStack 管理服务. You must
configure the IP range for the system VMs to use.</li>
<li>Public. Public traffic is generated when VMs in the cloud access the
Internet. Publicly accessible IPs must be allocated for this purpose.
End users can use the CloudStack UI to acquire these IPs to implement
NAT between their guest network and the public network, as described
in “Acquiring a New IP Address” in the 管理员手册.</li>
<li>Storage. While labeled “storage” this is specifically about secondary
storage, and doesn’t affect traffic for primary storage. This
includes traffic such as VM templates and snapshots, which is sent
between the secondary storage VM and secondary storage servers.
CloudStack uses a separate Network Interface Controller (NIC) named
storage NIC for storage network traffic. Use of a storage NIC that
always operates on a high bandwidth network allows fast template and
snapshot copying. You must configure the IP range to use for the
storage network.</li>
</ul>
<p>These traffic types can each be on a separate physical network, or they
can be combined with certain restrictions. When you use the Add Zone
wizard in the UI to create a new zone, you are guided into making only
valid choices.</p>
</div>
<div class="section" id="advanced-zone-guest-ip-addresses">
<h3>Advanced Zone Guest IP Addresses<a class="headerlink" href="concepts.html#advanced-zone-guest-ip-addresses" title="Permalink to this headline">¶</a></h3>
<p>When advanced networking is used, the administrator can create
additional networks for use by the guests. These networks can span the
zone and be available to all accounts, or they can be scoped to a single
account, in which case only the named account may create guests that
attach to these networks. The networks are defined by a VLAN ID, IP
range, and gateway. The administrator may provision thousands of these
networks if desired. Additionally, the administrator can reserve a part
of the IP address space for non-CloudStack VMs and servers.</p>
</div>
<div class="section" id="advanced-zone-public-ip-addresses">
<h3>Advanced Zone Public IP Addresses<a class="headerlink" href="concepts.html#advanced-zone-public-ip-addresses" title="Permalink to this headline">¶</a></h3>
<p>When advanced networking is used, the administrator can create
additional networks for use by the guests. These networks can span the
zone and be available to all accounts, or they can be scoped to a single
account, in which case only the named account may create guests that
attach to these networks. The networks are defined by a VLAN ID, IP
range, and gateway. The administrator may provision thousands of these
networks if desired.</p>
</div>
<div class="section" id="system-reserved-ip-addresses">
<span id="about-system-reserved-ip-addresses"></span><h3>System Reserved IP Addresses<a class="headerlink" href="concepts.html#system-reserved-ip-addresses" title="Permalink to this headline">¶</a></h3>
<p>In each zone, you need to configure a range of reserved IP addresses for
the management network. This network carries communication between the
CloudStack 管理服务 and various system VMs, such as Secondary
Storage VMs, 控制台代理 VMs, and DHCP.</p>
<p>The reserved IP addresses must be unique across the cloud. You cannot,
for example, have a host in one zone which has the same private IP
address as a host in another zone.</p>
<p>The hosts in a pod are assigned private IP addresses. These are
typically RFC1918 addresses. The 控制台代理 and 二级存储
system VMs are also allocated private IP addresses in the CIDR of the
pod that they are created in.</p>
<p>Make sure computing servers and Management Servers use IP addresses
outside of the System Reserved IP range. For example, suppose the System
Reserved IP range starts at 192.168.154.2 and ends at 192.168.154.7.
CloudStack can use .2 to .7 for System VMs. This leaves the rest of the
pod CIDR, from .8 to .254, for the 管理服务 and hypervisor
hosts.</p>
<p><strong>In all zones:</strong></p>
<p>Provide private IPs for the system in each pod and provision them in
CloudStack.</p>
<p>For KVM and XenServer, the recommended number of private IPs per pod is
one per host. If you expect a pod to grow, add enough private IPs now to
accommodate the growth.</p>
<p><strong>In a zone that uses advanced networking:</strong></p>
<p>For zones with advanced networking, we recommend provisioning enough
private IPs for your total number of customers, plus enough for the
required CloudStack System VMs. Typically, about 10 additional IPs are
required for the System VMs. For more information about System VMs, see
the section on working with SystemVMs in the Administrator’s Guide.</p>
<p>When advanced networking is being used, the number of private IP
addresses available in each pod varies depending on which hypervisor is
running on the nodes in that pod. Citrix XenServer and KVM use
link-local addresses, which in theory provide more than 65,000 private
IP addresses within the address block. As the pod grows over time, this
should be more than enough for any reasonable number of hosts as well as
IP addresses for guest virtual routers. VMWare ESXi, by contrast uses
any administrator-specified subnetting scheme, and the typical
administrator provides only 255 IPs per pod. Since these are shared by
physical machines, the guest virtual router, and other entities, it is
possible to run out of private IPs when scaling up a pod whose nodes are
running ESXi.</p>
<p>To ensure adequate headroom to scale private IP space in an ESXi pod
that uses advanced networking, use one or both of the following
techniques:</p>
<ul class="simple">
<li>Specify a larger CIDR block for the subnet. A subnet mask with a /20
suffix will provide more than 4,000 IP addresses.</li>
<li>Create multiple pods, each with its own subnet. For example, if you
create 10 pods and each pod has 255 IPs, this will provide 2,550 IP
addresses.</li>
</ul>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="choosing_deployment_architecture.html" class="btn btn-neutral float-right" title="小规模部署" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="CloudStack 概念和术语" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Apache Foundation
      
        <span class="commit">
          Revision <code>af137188</code>.
        </span>
      

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Read the Docs</span>
      v: 4.12.0.0
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Versions</dt>
        
          <dd><a href="http://docs.cloudstack.apache.org/en/master/">master</a></dd>
        
          <dd><a href="../../../index.html">latest</a></dd>
        
          <dd><a href="../../4.13.0.0/index.html">4.13.0.0</a></dd>
        
          <dd><a href="../index.html">4.12.0.0</a></dd>
        
          <dd><a href="../../4.11.3.0/index.html">4.11.3.0</a></dd>
        
          <dd><a href="../../4.11.2.0/index.html">4.11.2.0</a></dd>
        
          <dd><a href="../../4.11.1.0/index.html">4.11.1.0</a></dd>
        
      </dl>
      <dl>
        <dt>Downloads</dt>
        
          <dd><a href="http://readthedocs.org/projects/cloudstack-documentation/downloads/htmlzip/4.12.0.0/">html</a></dd>
        
      </dl>
      <dl>
        <dt>On Read the Docs</dt>
          <dd>
            <a href="http://readthedocs.org/projects/cloudstack-documentation/?fromdocs=cloudstack-documentation">Project Home</a>
          </dd>
          <dd>
            <a href="http://readthedocs.org/builds/cloudstack-documentation/?fromdocs=cloudstack-documentation">Builds</a>
          </dd>
      </dl>
      <hr/>
      Free document hosting provided by <a href="http://www.readthedocs.org">Read the Docs</a>.

    </div>
  </div>



  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
   

</body>
</html>